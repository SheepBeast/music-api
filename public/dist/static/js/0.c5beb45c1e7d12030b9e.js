webpackJsonp([0],{"2Qhm":function(t,i,e){"use strict";var s=e("FLDR"),n=e("zGp1"),a=e("VU/8"),r=a(s.a,n.a,!1,null,null,null);i.a=r.exports},"49UR":function(t,i,e){"use strict";var s=e("ZcDh"),n=e("hK8O"),a=e("VU/8"),r=a(s.a,n.a,!1,null,null,null);i.a=r.exports},BNQM:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Fwt1"),n=e("DWfK"),a=e("VU/8"),r=a(s.a,n.a,!1,null,null,null);i.default=r.exports},CWAW:function(t,i,e){"use strict";var s=e("DV1V");i.a={data:function(){return{active:!1,showContainer:!1}},computed:Vuex.mapGetters("musicPlayer",["playlist","playIndex"]),methods:{cut:function(t){this.$store.commit("musicPlayer/cut",{index:t})},close:function(){s.a.$emit("togglePlaylist")},remove:function(t){this.$store.commit("musicPlayer/remove",{index:t,vm:this})}},created:function(){var t=this;s.a.$on("togglePlaylist",function(){t.active?(t.active=!1,setTimeout(function(){t.showContainer=!1},300)):(t.showContainer=!0,setTimeout(function(){t.active=!0},100))})}}},DWfK:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.currentPlays?e("page",{staticClass:"music-player-interface"},[e("div",{staticClass:"blur-bg",class:{mask:t.hideCover},style:{"background-image":"url("+t.currentPlays.al.picUrl+")"},attrs:{id:"blur"}}),t._v(" "),e("back"),t._v(" "),e("div",{staticClass:"cover"},[e("img",{class:{hidden:t.hideCover},style:t.computedCoverHeight,attrs:{src:t.currentPlays.al.picUrl},on:{click:t.toggleCover,transitionend:t.coverTransitionEnd}}),t._v(" "),e("div",{ref:"lyric",staticClass:"lyric",style:{display:t.notDisplayLyric?"none":"block"}},[e("div",{staticClass:"lyc-wrapper",style:{top:"-webkit-calc(50% - "+25*t.currentLyricLine+"px)"}},[t.lyric.length>0?t._l(t.lyric,function(i,s){return e("p",{key:i.time,class:{lighter:t.currentLyricLine===s}},[t._v(t._s(i.clause))])}):[e("p",[t._v("暂无歌词")])]],2)])]),t._v(" "),e("timeline",{attrs:{"min-value":0,"max-value":t.duration}}),t._v(" "),e("div",{staticClass:"controls",staticStyle:{"padding-top":"10px","padding-bottom":"20px"}},[e("div",{staticClass:"info text-center"},[e("router-link",{staticClass:"name",attrs:{tag:"h3",to:{name:"album",query:{id:t.currentPlays.al.id}}}},[t._v("\n        "+t._s(t.currentPlays.name)+"\n      ")]),t._v(" "),e("router-link",{staticClass:"artist",attrs:{tag:"h4",to:{name:"artist",query:{id:t.currentPlays.ar[0].id}}}},[t._v("\n        "+t._s(t.currentPlays.ar[0].name)+"\n      ")])],1),t._v(" "),e("div",{staticClass:"operation-buttons",staticStyle:{width:"70%",margin:"auto","margin-bottom":"10px",color:"rgba(0, 0, 0, 0.7)"}},[e("icon",{attrs:{ligature:"favorite_border"},nativeOn:{click:function(i){t.undeveloped(i)}}}),t._v(" "),e("icon",{attrs:{ligature:"file_download"},nativeOn:{click:function(i){t.undeveloped(i)}}}),t._v(" "),e("icon",{staticStyle:{transform:"scaleX(-1)"},attrs:{ligature:"reply"},nativeOn:{click:function(i){t.undeveloped(i)}}}),t._v(" "),e("icon",{attrs:{ligature:"more_horiz"},nativeOn:{click:function(i){t.undeveloped(i)}}})],1),t._v(" "),e("div",{staticClass:"operation-buttons"},[e("icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.7)"},attrs:{ligature:t.mode},nativeOn:{click:function(i){t.setMode(i)}}}),t._v(" "),e("icon",{staticStyle:{"font-size":"36px"},attrs:{ligature:"skip_previous"},nativeOn:{click:function(i){t.skipPrevious(i)}}}),t._v(" "),e("icon",{staticStyle:{"font-size":"54px"},attrs:{ligature:t.switch_button},nativeOn:{click:function(i){t.toggle(i)}}}),t._v(" "),e("icon",{staticStyle:{"font-size":"36px"},attrs:{ligature:"skip_next"},nativeOn:{click:function(i){t.skipNext(i)}}}),t._v(" "),e("icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.7)"},attrs:{ligature:"playlist_play"},nativeOn:{click:function(i){t.togglePlaylist(i)}}})],1)]),t._v(" "),e("div",{ref:"mini",staticClass:"music-player-mini-interface",class:{active:t.showMiniUI}},[e("img",{staticStyle:{height:"100%"},attrs:{src:t.currentPlays.al.picUrl}}),t._v(" "),e("div",{staticClass:"operation-buttons"},[e("icon",{staticClass:"text-center",attrs:{ligature:"favorite_border"},nativeOn:{click:function(i){t.undeveloped(i)}}}),t._v(" "),e("icon",{staticClass:"text-center larger",attrs:{ligature:"skip_previous"},nativeOn:{click:function(i){t.skipPrevious(i)}}}),t._v(" "),e("icon",{staticClass:"text-center larger",attrs:{ligature:t.switch_button},nativeOn:{click:function(i){t.toggle(i)}}}),t._v(" "),e("icon",{staticClass:"text-center larger",attrs:{ligature:"skip_next"},nativeOn:{click:function(i){t.skipNext(i)}}}),t._v(" "),e("icon",{staticClass:"text-center larger",attrs:{ligature:"more_horiz"},nativeOn:{click:function(i){t.undeveloped(i)}}})],1),t._v(" "),e("div",{staticClass:"blur-bg",staticStyle:{opacity:"1"},style:{"background-image":"url("+t.currentPlays.al.picUrl+")"}})]),t._v(" "),e("comment",{tag:"component"}),t._v(" "),e("playlist",{tag:"component"})],1):e("loading-page")},n=[],a={render:s,staticRenderFns:n};i.a=a},FLDR:function(t,i,e){"use strict";var s=e("Dd8w"),n=e.n(s),a=e("LOkV"),r=e("DV1V");i.a={data:function(){return{active:!1,fixedLayerTop:null}},computed:n()({},Vuex.mapGetters("musicPlayer",["currentPlays"]),{contentHeight:function(){return a.b.height-54+"px"},computedTop:function(){return this.fixedLayerTop?(this.active?54:this.fixedLayerTop)+"px":""}}),methods:{toggle:function(t){if(t.preventDefault(),t.target.dataset.toggle)return!1;this.active=!this.active,r.a.$emit("toggleMiniUI",{active:this.active})}},mounted:function(){this.fixedLayerTop=this.$refs.comment.getBoundingClientRect().top}}},Fwt1:function(t,i,e){"use strict";var s=e("Dd8w"),n=e.n(s),a=e("49UR"),r=e("2Qhm"),c=e("DV1V"),l=e("XCh4"),o=e("LOkV");i.a={data:function(){return{showMiniUI:!1,computedTop:0,hideCover:!1,notDisplayLyric:!0}},computed:n()({},Vuex.mapGetters("musicPlayer",["mode","switch_button","currentPlays","duration","currentTimeString","durationString","lyric","currentLyricLine"]),{computedCoverHeight:function(){return{height:o.b.width+"px"}}}),methods:{toggle:function(){c.a.$emit("toggle")},toggleCover:function(){this.notDisplayLyric=!1,this.hideCover=!this.hideCover},setMode:function(){this.$store.commit("musicPlayer/setMode")},skipPrevious:function(){this.$store.commit("musicPlayer/skipPrevious")},skipNext:function(){this.$store.commit("musicPlayer/skipNext")},coverTransitionEnd:function(){this.hideCover||(this.notDisplayLyric=!0)},togglePlaylist:function(){c.a.$emit("togglePlaylist")},undeveloped:function(){this.$tip.show("该功能暂未开发")}},components:{timeline:a.a,comment:r.a,playlist:l.a},mounted:function(){var t=this;c.a.$on("toggleMiniUI",function(i){var e=i.active;t.showMiniUI=e})}}},WOmd:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"music-player-playlist-container",style:{display:t.showContainer?"flex":"none"}},[e("div",{staticClass:"backdrop",on:{click:t.close}}),t._v(" "),e("div",{staticClass:"music-player-playlist",class:{active:t.active}},[e("div",{staticClass:"playlist-history-header text-center"},[t._v("历史记录")]),t._v(" "),e("list",{staticClass:"history-list"},t._l(t.playlist,function(i,s){return e("list-item",{key:i.id,style:{color:t.playIndex==s?"rgba(255, 69, 0, 0.8)":"#000"},nativeOn:{click:function(i){t.cut(s)}}},[e("list-item-holder",{staticClass:"dense"},[e("list-item-inner",[e("div",{staticClass:"primary-title f-elpsl-1"},[t._v("\n              "+t._s(i.name)+" -\n              "),e("small",[t._v(t._s(i.ar[0].name))]),t._v(" "),e("icon",{staticClass:"close",attrs:{ligature:"close"},nativeOn:{click:function(i){t.remove(s)}}})],1)])],1)],1)})),t._v(" "),e("div",{staticClass:"playlist-close-button text-center",on:{click:t.close}},[t._v("关闭")])],1)])},n=[],a={render:s,staticRenderFns:n};i.a=a},XCh4:function(t,i,e){"use strict";var s=e("CWAW"),n=e("WOmd"),a=e("VU/8"),r=a(s.a,n.a,!1,null,null,null);i.a=r.exports},ZcDh:function(t,i,e){"use strict";var s=e("Dd8w"),n=e.n(s),a=e("DV1V"),r=e("LOkV");i.a={props:{defaultValue:Number,minValue:Number,maxValue:Number},data:function(){return{slid:0,grabbing:!1,seeking:!1,sliding:!1,min:0,max:null,direction:"",seekingPos:null}},computed:n()({},Vuex.mapGetters("musicPlayer",["currentTime","duration","currentTimeString","durationString"]),{currentPostion:function(){return this.seeking?this.slid:this.currentTime/this.duration*this.max},expectCurrentTimeString:function(){return Object(r.f)(this.slid/this.max*this.duration)}}),methods:{mousedown:function(t){this.slid=this.currentPostion,this.seekingPos=t.pageX,this.grabbing=this.seeking=!0,this.direction="right"},mousemove:function(t){if(this.grabbing&&!this.sliding){var i=t.pageX,e=i-this.seekingPos,s=this.slid+e;0!=e&&(this.direction=e>0?"right":"left"),this.seekingPos=i,s<0?s=0:s>this.max&&(s=this.max),this.slid=s,this.sliding=!1}},mouseup:function(t){var i=this;this.grabbing=!1,this.direction="",a.a.$emit("seeked",{currentTime:this.slid/this.max*this.duration}),this.$nextTick(function(){setTimeout(function(t){t.seeking=!1},1e3,i)})},init:function(){this.max=this.$refs.timeline.offsetWidth,this.defaultValue&&this.defaultValue>=this.minValue&&this.defaultValue<=this.maxValue&&(this.slid=this.defaultValue/this.maxValue*this.max)}},mounted:function(){this.init()}}},hK8O:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"timeline",staticClass:"timeline"},[e("div",{staticClass:"thumb shadow-3d",style:{left:t.currentPostion+"px"},on:{mousedown:t.mousedown,mousemove:t.mousemove,mouseup:t.mouseup}},[e("span",[t._v(t._s(t.currentTimeString))]),t._v(" / "),e("span",[t._v(t._s(t.durationString))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.direction,expression:"direction"}],staticClass:"expect-time",class:{left:"left"==t.direction,right:"right"==t.direction}},[e("span",[t._v(t._s(t.slid>0?t.expectCurrentTimeString:t.currentTimeString))]),t._v(" / "),e("span",[t._v(t._s(t.durationString))])]),t._v(" "),e("div",{staticClass:"trajectory",style:{"border-left-width":t.currentPostion+"px"}})])])},n=[],a={render:s,staticRenderFns:n};i.a=a},zGp1:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"comment",staticClass:"comment shadow-3d-reverse",class:{active:t.active},style:{height:t.contentHeight,top:t.computedTop},attrs:{id:"music-player-comment"},on:{click:function(i){t.toggle(i)}}},[e("h4",{staticClass:"comment-label"},[t._v("评论\n    "),e("span",{staticClass:"count"},[t._v(t._s(t.currentPlays.total))])]),t._v(" "),e("div",{staticClass:"comment-content"},[e("list",t._l(t.currentPlays.comments,function(i){return e("list-item",{key:i.commentId},[e("router-link",{staticClass:"avatar",attrs:{tag:"div",to:{name:"user",query:{id:i.user.userId}}}},[e("img",{attrs:{src:i.user.avatarUrl,"data-toggle":"router-link"}})]),t._v(" "),e("list-item-holder",[e("list-item-inner",[e("div",{staticClass:"primary-title"},[e("router-link",{attrs:{tag:"span",to:{name:"user",query:{id:i.user.userId}},"data-toggle":"router-link"}},[t._v("\n                 "+t._s(i.user.nickname)+"\n              ")])],1),t._v(" "),e("div",{staticClass:"third-title"},[t._v(t._s(i.timeString))]),t._v(" "),i.translatedBeReplied?e("div",{staticClass:"message"},[t._v("\n              回复\n              "),e("router-link",{staticClass:"reply-user-nickname",attrs:{"data-toggle":"router-link",to:{name:"user",query:{id:i.translatedBeReplied.user.id}}}},[t._v("\n                @"+t._s(i.translatedBeReplied.user.nickname)+"\n              ")]),t._v("：\n              "),e("span",{domProps:{innerHTML:t._s(i.translatedMessage)}}),t._v(" "),e("div",{staticClass:"message reply",domProps:{innerHTML:t._s(i.translatedBeReplied&&i.translatedBeReplied.content)}})],1):e("div",{staticClass:"message",domProps:{innerHTML:t._s(i.translatedMessage)}})])],1)],1)}))],1)])},n=[],a={render:s,staticRenderFns:n};i.a=a}});
//# sourceMappingURL=0.c5beb45c1e7d12030b9e.js.map