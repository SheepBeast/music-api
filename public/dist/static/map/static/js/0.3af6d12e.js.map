{"version":3,"sources":["webpack:///./src/views/musicPlayer/interface.vue?4a0e","webpack:///./src/views/musicPlayer/comment.vue","webpack:///./src/views/musicPlayer/timeline.vue","webpack:///./src/views/musicPlayer/playlist.vue?8eec","webpack:///./src/views/musicPlayer/interface.vue","webpack:///src/views/musicPlayer/playlist.vue","webpack:///src/views/musicPlayer/comment.vue","webpack:///src/views/musicPlayer/interface.vue","webpack:///./src/views/musicPlayer/playlist.vue","webpack:///src/views/musicPlayer/timeline.vue","webpack:///./src/views/musicPlayer/timeline.vue?1981","webpack:///./src/mixins/index.js","webpack:///./src/views/musicPlayer/comment.vue?ac92"],"names":[],"mappings":"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","file":"static/js/0.3af6d12e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.currentPlays)?_c('page',{staticClass:\"music-player-interface\"},[_c('div',{staticClass:\"blur-bg\",class:{mask: _vm.hideCover},style:({'background-image': (\"url(\" + (_vm.currentPlays.al.picUrl) + \")\")}),attrs:{\"id\":\"blur\"}}),_vm._v(\" \"),_c('back'),_vm._v(\" \"),_c('div',{staticClass:\"cover\"},[_c('img',{class:{hidden: _vm.hideCover},style:(_vm.computedCoverHeight),attrs:{\"src\":_vm.currentPlays.al.picUrl},on:{\"click\":_vm.toggleCover,\"transitionend\":_vm.coverTransitionEnd}}),_vm._v(\" \"),_c('div',{ref:\"lyric\",staticClass:\"lyric\",style:({'display': _vm.notDisplayLyric ? 'none' : 'block'})},[_c('div',{staticClass:\"lyc-wrapper\",style:({top: (\"-webkit-calc(50% - \" + (_vm.currentLyricLine * 25) + \"px)\")})},[(_vm.lyric.length > 0)?_vm._l((_vm.lyric),function(pl,idx){return _c('p',{key:pl.time,class:{lighter: _vm.currentLyricLine === idx}},[_vm._v(_vm._s(pl.clause))])}):[_c('p',[_vm._v(\"暂无歌词\")])]],2)])]),_vm._v(\" \"),_c('timeline',{attrs:{\"min-value\":0,\"max-value\":_vm.duration}}),_vm._v(\" \"),_c('div',{staticClass:\"controls\",staticStyle:{\"padding-top\":\"10px\",\"padding-bottom\":\"20px\"}},[_c('div',{staticClass:\"info text-center\"},[_c('router-link',{staticClass:\"name\",attrs:{\"tag\":\"h3\",\"to\":{name: 'album', query: {id: _vm.currentPlays.al.id}}}},[_vm._v(\"\\n        \"+_vm._s(_vm.currentPlays.name)+\"\\n      \")]),_vm._v(\" \"),_c('router-link',{staticClass:\"artist\",attrs:{\"tag\":\"h4\",\"to\":{name: 'artist', query: {id: _vm.currentPlays.ar[0].id}}}},[_vm._v(\"\\n        \"+_vm._s(_vm.currentPlays.ar[0].name)+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"operation-buttons\",staticStyle:{\"width\":\"70%\",\"margin\":\"auto\",\"margin-bottom\":\"10px\",\"color\":\"rgba(0, 0, 0, 0.7)\"}},[_c('icon',{attrs:{\"ligature\":\"favorite_border\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}}),_vm._v(\" \"),_c('icon',{attrs:{\"ligature\":\"file_download\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}}),_vm._v(\" \"),_c('icon',{staticStyle:{\"transform\":\"scaleX(-1)\"},attrs:{\"ligature\":\"reply\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}}),_vm._v(\" \"),_c('icon',{attrs:{\"ligature\":\"more_horiz\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"operation-buttons\"},[_c('icon',{staticStyle:{\"font-size\":\"20px\",\"color\":\"rgba(0,0,0,0.7)\"},attrs:{\"ligature\":_vm.mode},nativeOn:{\"click\":function($event){_vm.setMode($event)}}}),_vm._v(\" \"),_c('icon',{staticStyle:{\"font-size\":\"36px\"},attrs:{\"ligature\":\"skip_previous\"},nativeOn:{\"click\":function($event){_vm.skipPrevious($event)}}}),_vm._v(\" \"),_c('icon',{staticStyle:{\"font-size\":\"54px\"},attrs:{\"ligature\":_vm.switch_button},nativeOn:{\"click\":function($event){_vm.toggle($event)}}}),_vm._v(\" \"),_c('icon',{staticStyle:{\"font-size\":\"36px\"},attrs:{\"ligature\":\"skip_next\"},nativeOn:{\"click\":function($event){_vm.skipNext($event)}}}),_vm._v(\" \"),_c('icon',{staticStyle:{\"font-size\":\"20px\",\"color\":\"rgba(0,0,0,0.7)\"},attrs:{\"ligature\":\"playlist_play\"},nativeOn:{\"click\":function($event){_vm.togglePlaylist($event)}}})],1)]),_vm._v(\" \"),_c('div',{ref:\"mini\",staticClass:\"music-player-mini-interface\",class:{active: _vm.showMiniUI}},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":_vm.currentPlays.al.picUrl}}),_vm._v(\" \"),_c('div',{staticClass:\"operation-buttons\"},[_c('icon',{staticClass:\"text-center\",attrs:{\"ligature\":\"favorite_border\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}}),_vm._v(\" \"),_c('icon',{staticClass:\"text-center larger\",attrs:{\"ligature\":\"skip_previous\"},nativeOn:{\"click\":function($event){_vm.skipPrevious($event)}}}),_vm._v(\" \"),_c('icon',{staticClass:\"text-center larger\",attrs:{\"ligature\":_vm.switch_button},nativeOn:{\"click\":function($event){_vm.toggle($event)}}}),_vm._v(\" \"),_c('icon',{staticClass:\"text-center larger\",attrs:{\"ligature\":\"skip_next\"},nativeOn:{\"click\":function($event){_vm.skipNext($event)}}}),_vm._v(\" \"),_c('icon',{staticClass:\"text-center larger\",attrs:{\"ligature\":\"more_horiz\"},nativeOn:{\"click\":function($event){_vm.undeveloped($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"blur-bg\",staticStyle:{\"opacity\":\"1\"},style:({'background-image': (\"url(\" + (_vm.currentPlays.al.picUrl) + \")\")})})]),_vm._v(\" \"),_c('comment',{tag:\"component\"}),_vm._v(\" \"),_c('playlist',{tag:\"component\"})],1):_c('loading-page')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a64c8b3\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/musicPlayer/interface.vue\n// module id = 26xt\n// module chunks = 0","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./comment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56843759\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./comment.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/musicPlayer/comment.vue\n// module id = 2Qhm\n// module chunks = 0","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timeline.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b6bd4692\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./timeline.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/musicPlayer/timeline.vue\n// module id = 49UR\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-player-playlist-container\",style:({'display': _vm.showContainer ? 'flex' : 'none'})},[_c('div',{staticClass:\"backdrop\",on:{\"click\":_vm.close}}),_vm._v(\" \"),_c('div',{staticClass:\"music-player-playlist\",class:{active: _vm.active}},[_c('div',{staticClass:\"playlist-history-header text-center\"},[_vm._v(\"历史记录\")]),_vm._v(\" \"),_c('list',{staticClass:\"history-list\"},_vm._l((_vm.playlist),function(p,i){return _c('list-item',{key:p.id,style:({color: _vm.playIndex == i ? 'rgba(255, 69, 0, 0.8)' : '#000'}),nativeOn:{\"click\":function($event){_vm.cut(i)}}},[_c('list-item-holder',{staticClass:\"dense\"},[_c('list-item-inner',[_c('div',{staticClass:\"primary-title f-elpsl-1\"},[_vm._v(\"\\n              \"+_vm._s(p.name)+\" -\\n              \"),_c('small',[_vm._v(_vm._s(p.ar[0].name))]),_vm._v(\" \"),_c('icon',{staticClass:\"close\",attrs:{\"ligature\":\"close\"},nativeOn:{\"click\":function($event){_vm.remove(i)}}})],1)])],1)],1)})),_vm._v(\" \"),_c('div',{staticClass:\"playlist-close-button text-center\",on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fcbd9c8\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/musicPlayer/playlist.vue\n// module id = 9VPt\n// module chunks = 0","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./interface.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a64c8b3\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./interface.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/musicPlayer/interface.vue\n// module id = BNQM\n// module chunks = 0","<template>\n  <div class=\"music-player-playlist-container\" :style=\"{'display': showContainer ? 'flex' : 'none'}\">\n    <div class=\"backdrop\" @click=\"close\"></div>\n    <div class=\"music-player-playlist\" :class=\"{active}\">\n      <div class=\"playlist-history-header text-center\">历史记录</div>\n      <list class=\"history-list\">\n        <list-item @click.native=\"cut(i)\" v-for=\"(p, i) in playlist\" :key=\"p.id\" :style=\"{color: playIndex == i ? 'rgba(255, 69, 0, 0.8)' : '#000'}\">\n          <list-item-holder class=\"dense\">\n            <list-item-inner>\n              <div class=\"primary-title f-elpsl-1\">\n                {{p.name}} -\n                <small>{{p.ar[0].name}}</small>\n                <icon ligature=\"close\" class=\"close\" @click.native=\"remove(i)\"></icon>\n              </div>\n            </list-item-inner>\n          </list-item-holder>\n        </list-item>\n      </list>\n      <div class=\"playlist-close-button text-center\" @click=\"close\">关闭</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport pipe from \"./pipe\";\n\nexport default {\n  data() {\n    return {\n      active: false,\n      showContainer: false\n    };\n  },\n  computed: Vuex.mapGetters(\"musicPlayer\", [\"playlist\", \"playIndex\"]),\n  methods: {\n    cut(index) {\n      this.$store.commit(\"musicPlayer/cut\", { index });\n    },\n    close() {\n      pipe.$emit(\"togglePlaylist\");\n    },\n    remove(index) {\n      this.$store.commit(\"musicPlayer/remove\", { index, vm: this });\n    }\n  },\n  created() {\n    pipe.$on(\"togglePlaylist\", () => {\n      if (this.active) {\n        this.active = false;\n        setTimeout(() => {\n          this.showContainer = false;\n        }, 300);\n      } else {\n        this.showContainer = true;\n        setTimeout(() => {\n          this.active = true;\n        }, 100);\n      }\n    });\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/musicPlayer/playlist.vue","<template>\n  <div id=\"music-player-comment\"\n    class=\"comment shadow-3d-reverse\"\n    :class=\"{active}\"\n    :style=\"{height: contentHeight, top: computedTop}\"\n    @click=\"toggle($event)\"\n    ref=\"comment\">\n    <h4 class=\"comment-label\">评论\n      <span class=\"count\">{{currentPlays.total}}</span>\n    </h4>\n    <div class=\"comment-content\">\n      <list>\n        <list-item v-for=\"c in currentPlays.comments\" :key=\"c.commentId\">\n          <router-link class=\"avatar\" tag=\"div\" :to=\"{name: 'user', query: {id: c.user.userId}}\">\n            <img :src=\"c.user.avatarUrl\" data-toggle=\"router-link\">\n          </router-link>\n          <list-item-holder>\n            <list-item-inner>\n              <div class=\"primary-title\">\n                <router-link tag=\"span\"  :to=\"{name: 'user', query: {id: c.user.userId}}\" data-toggle=\"router-link\">\n                   {{c.user.nickname}}\n                </router-link>\n              </div>\n              <div class=\"third-title\">{{c.timeString}}</div>\n              <div v-if=\"!c.translatedBeReplied\" class=\"message\" v-html=\"c.translatedMessage\"></div>\n              <div class=\"message\" v-else>\n                回复\n                <router-link class=\"reply-user-nickname\" data-toggle=\"router-link\" :to=\"{name: 'user', query: {id: c.translatedBeReplied.user.id}}\">\n                  @{{c.translatedBeReplied.user.nickname}}\n                </router-link>：\n                <span v-html=\"c.translatedMessage\"></span>\n                <div class=\"message reply\" v-html=\"c.translatedBeReplied && c.translatedBeReplied.content\"></div>\n              </div>\n            </list-item-inner>\n          </list-item-holder>\n        </list-item>\n      </list>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { deviceInfo } from \"../../assets/js/util.js\";\nimport pipe from \"./pipe\";\n\nexport default {\n  data() {\n    return {\n      active: false,\n      fixedLayerTop: null\n    };\n  },\n  computed: {\n    ...Vuex.mapGetters(\"musicPlayer\", [\"currentPlays\"]),\n    contentHeight: () => deviceInfo.height - 54 + \"px\",\n    computedTop() {\n      if (!this.fixedLayerTop) {\n        return \"\";\n      }\n      return `${this.active ? 54 : this.fixedLayerTop}px`;\n    }\n  },\n  methods: {\n    toggle(e) {\n      e.preventDefault();\n      if (e.target.dataset.toggle) {\n        return false;\n      }\n      this.active = !this.active;\n      pipe.$emit(\"toggleMiniUI\", { active: this.active });\n    }\n  },\n  mounted() {\n    this.fixedLayerTop = this.$refs.comment.getBoundingClientRect().top;\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/musicPlayer/comment.vue","<template>\n  <page class=\"music-player-interface\" v-if=\"currentPlays\">\n    <div id=\"blur\" class=\"blur-bg\" :class=\"{mask: hideCover}\" :style=\"{'background-image': `url(${currentPlays.al.picUrl})`}\"></div>\n\n    <back></back>\n    <div class=\"cover\">\n      <img :src=\"currentPlays.al.picUrl\" @click=\"toggleCover\" :class=\"{hidden: hideCover}\" @transitionend=\"coverTransitionEnd\" :style=\"computedCoverHeight\">\n      <div class=\"lyric\" ref=\"lyric\" :style=\"{'display': notDisplayLyric ? 'none' : 'block'}\">\n        <div class=\"lyc-wrapper\" :style=\"{top: `-webkit-calc(50% - ${currentLyricLine * 25}px)`}\">\n          <template v-if=\"lyric.length > 0\">\n            <p :class=\"{lighter: currentLyricLine === idx}\" v-for=\"(pl, idx) in lyric\" :key=\"pl.time\">{{pl.clause}}</p>\n          </template>\n          <template v-else>\n            <p>暂无歌词</p>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <timeline :min-value=\"0\" :max-value=\"duration\"></timeline>\n\n    <div class=\"controls\" style=\"padding-top: 10px; padding-bottom: 20px;\">\n      <div class=\"info text-center\">\n        <router-link tag=\"h3\" class=\"name\" :to=\"{name: 'album', query: {id: currentPlays.al.id}}\">\n          {{currentPlays.name}}\n        </router-link>\n        <router-link tag=\"h4\" class=\"artist\" :to=\"{name: 'artist', query: {id: currentPlays.ar[0].id}}\">\n          {{currentPlays.ar[0].name}}\n        </router-link>\n      </div>\n      \n      <div class=\"operation-buttons\" style=\"width: 70%; margin: auto; margin-bottom: 10px; color: rgba(0, 0, 0, 0.7);\">\n        <icon ligature=\"favorite_border\" @click.native=\"undeveloped\"></icon>\n        <icon ligature=\"file_download\" @click.native=\"undeveloped\"></icon>\n        <icon ligature=\"reply\" @click.native=\"undeveloped\" style=\"transform: scaleX(-1)\"></icon>\n        <icon ligature=\"more_horiz\" @click.native=\"undeveloped\"></icon>\n      </div>\n\n      <div class=\"operation-buttons\">\n        <icon :ligature=\"mode\" @click.native=\"setMode\" style=\"font-size: 20px; color: rgba(0,0,0,0.7)\"></icon>\n        <icon ligature=\"skip_previous\" @click.native=\"skipPrevious\" style=\"font-size: 36px\"></icon>\n        <icon :ligature=\"switch_button\" @click.native=\"toggle\" style=\"font-size: 54px\"></icon>\n        <icon ligature=\"skip_next\" @click.native=\"skipNext\" style=\"font-size: 36px\"></icon>\n        <icon ligature=\"playlist_play\" @click.native=\"togglePlaylist\" style=\"font-size: 20px; color: rgba(0,0,0,0.7)\"></icon>\n      </div>\n    </div>\n\n    <!-- mini -->\n    <div class=\"music-player-mini-interface\" :class=\"{active: showMiniUI}\" ref=\"mini\">\n      <img :src=\"currentPlays.al.picUrl\" style=\"height: 100%;\">\n      <div class=\"operation-buttons\">\n        <icon class=\"text-center\" ligature=\"favorite_border\" @click.native=\"undeveloped\"></icon>\n        <icon class=\"text-center larger\" ligature=\"skip_previous\" @click.native=\"skipPrevious\"></icon>\n        <icon class=\"text-center larger\" :ligature=\"switch_button\" @click.native=\"toggle\"></icon>\n        <icon class=\"text-center larger\" ligature=\"skip_next\" @click.native=\"skipNext\"></icon>\n        <icon class=\"text-center larger\" ligature=\"more_horiz\" @click.native=\"undeveloped\"></icon>\n      </div>\n\n      <div class=\"blur-bg\" style=\"opacity: 1\" :style=\"{'background-image': `url(${currentPlays.al.picUrl})`}\"></div>\n    </div>\n\n    <!-- comment -->\n    <component :is=\"'comment'\"></component>\n\n    <!-- playlist -->\n    <component :is=\"'playlist'\"></component>\n  </page>\n  <loading-page v-else></loading-page>\n</template>\n\n<script>\nimport timeline from \"./timeline\";\nimport comment from \"./comment\";\nimport pipe from \"./pipe\";\nimport playlist from \"./playlist\";\nimport { deviceInfo } from \"../../assets/js/util\";\nimport mixins from \"../../mixins\";\n\nexport default {\n  data() {\n    return {\n      showMiniUI: false,\n      computedTop: 0,\n      hideCover: false,\n      notDisplayLyric: true\n    };\n  },\n  mixins: [mixins],\n  computed: {\n    ...Vuex.mapGetters(\"musicPlayer\", [\n      \"mode\",\n      \"switch_button\",\n      \"currentPlays\",\n      \"duration\",\n      \"currentTimeString\",\n      \"durationString\",\n      \"lyric\",\n      \"currentLyricLine\"\n    ]),\n    computedCoverHeight() {\n      return {\n        height: `${deviceInfo.width}px`\n      };\n    }\n  },\n  methods: {\n    toggle() {\n      pipe.$emit(\"toggle\");\n    },\n    toggleCover() {\n      this.notDisplayLyric = false;\n      this.hideCover = !this.hideCover;\n    },\n    setMode() {\n      this.$store.commit(\"musicPlayer/setMode\");\n    },\n    skipPrevious() {\n      this.$store.commit(\"musicPlayer/skipPrevious\");\n    },\n    skipNext() {\n      this.$store.commit(\"musicPlayer/skipNext\");\n    },\n    coverTransitionEnd() {\n      if (!this.hideCover) {\n        this.notDisplayLyric = true;\n      }\n    },\n    togglePlaylist() {\n      pipe.$emit(\"togglePlaylist\");\n    },\n    undeveloped() {\n      this.$tip.show(\"该功能暂未开发\");\n    }\n  },\n  components: {\n    timeline,\n    comment,\n    playlist\n  },\n  mounted() {\n    pipe.$on(\"toggleMiniUI\", ({ active }) => {\n      this.showMiniUI = active;\n    });\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/musicPlayer/interface.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./playlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fcbd9c8\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./playlist.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/musicPlayer/playlist.vue\n// module id = XCh4\n// module chunks = 0","<template>\n  <div class=\"timeline\">\n    <div class=\"thumb shadow-3d\"\n      :style=\"{ left: currentPostion + 'px' }\"\n      @mousedown=\"mousedown\"\n      @mousemove=\"mousemove\"\n      @mouseup=\"mouseup\"\n    >\n      <span>{{currentTimeString}}</span> / <span>{{durationString}}</span>\n      <div class=\"expect-time\"\n        :class=\"{left: direction == 'left', right: direction == 'right'}\"\n        v-show=\"direction\"\n      >\n        <span>{{slid > 0 ? expectCurrentTimeString : currentTimeString }}</span> / <span>{{durationString}}</span>\n      </div>\n      <div class=\"trajectory\" :style=\"{ 'border-left-width': currentPostion +'px' }\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport pipe from \"./pipe\";\nimport { timeTransform } from \"../../assets/js/util\";\nexport default {\n  props: {\n    defaultValue: Number,\n    minValue: Number,\n    maxValue: Number\n  },\n  data() {\n    return {\n      slid: 0,\n      grabbing: false,\n      seeking: false,\n      sliding: false,\n      min: 0,\n      max: null,\n      direction: \"\", // left, right\n      seekingPos: null\n    };\n  },\n  computed: {\n    ...Vuex.mapGetters(\"musicPlayer\", [\n      \"currentTime\",\n      \"duration\",\n      \"currentTimeString\",\n      \"durationString\"\n    ]),\n    currentPostion() {\n      return this.seeking\n        ? this.slid\n        : /* this.duration == 0 ? 0 : */ this.currentTime /\n            this.duration *\n            this.max;\n    },\n    expectCurrentTimeString() {\n      return timeTransform(this.slid / this.max * this.duration);\n    }\n  },\n  methods: {\n    mousedown(e) {\n      this.slid = this.currentPostion;\n      this.seekingPos = e.pageX;\n      this.grabbing = this.seeking = true;\n      this.direction = \"right\";\n    },\n    mousemove(e) {\n      if (this.grabbing && !this.sliding) {\n        let lastPos = e.pageX,\n          offset = lastPos - this.seekingPos,\n          pos = this.slid + offset;\n\n        if (offset != 0) {\n          this.direction = offset > 0 ? \"right\" : \"left\";\n        }\n        this.seekingPos = lastPos;\n        if (pos < 0) {\n          pos = 0;\n        } else if (pos > this.max) {\n          pos = this.max;\n        }\n        this.slid = pos;\n        this.sliding = false;\n      }\n    },\n    mouseup(e) {\n      this.grabbing = false;\n      this.direction = \"\";\n\n      pipe.$emit(\"seeked\", {\n        currentTime: this.slid / this.max * this.duration\n      });\n      this.$nextTick(() => {\n        setTimeout(\n          self => {\n            self.seeking = false;\n          },\n          1000,\n          this\n        );\n      });\n    },\n    init() {\n      this.max = this.$el.offsetWidth\n      if (\n        this.defaultValue &&\n        this.defaultValue >= this.minValue &&\n        this.defaultValue <= this.maxValue\n      ) {\n        this.slid = this.defaultValue / this.maxValue * this.max;\n      }\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/musicPlayer/timeline.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timeline\"},[_c('div',{staticClass:\"thumb shadow-3d\",style:({ left: _vm.currentPostion + 'px' }),on:{\"mousedown\":_vm.mousedown,\"mousemove\":_vm.mousemove,\"mouseup\":_vm.mouseup}},[_c('span',[_vm._v(_vm._s(_vm.currentTimeString))]),_vm._v(\" / \"),_c('span',[_vm._v(_vm._s(_vm.durationString))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.direction),expression:\"direction\"}],staticClass:\"expect-time\",class:{left: _vm.direction == 'left', right: _vm.direction == 'right'}},[_c('span',[_vm._v(_vm._s(_vm.slid > 0 ? _vm.expectCurrentTimeString : _vm.currentTimeString))]),_vm._v(\" / \"),_c('span',[_vm._v(_vm._s(_vm.durationString))])]),_vm._v(\" \"),_c('div',{staticClass:\"trajectory\",style:({ 'border-left-width': _vm.currentPostion +'px' })})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b6bd4692\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/musicPlayer/timeline.vue\n// module id = e95p\n// module chunks = 0","export const beforeRouteEnter = {\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      if (vm.$router.pass) {\n        next()\n      } else {\n        vm.$router.replace({ name: 'home' })\n      }\n    })\n  }\n}\n\nexport const updated = {\n  updated() {\n    Vue.$lazyload()\n  }\n}\n\nexport default Object.assign({}, beforeRouteEnter, updated)\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/mixins/index.js\n// module id = msXN\n// module chunks = 0 3 4 5 6","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"comment\",staticClass:\"comment shadow-3d-reverse\",class:{active: _vm.active},style:({height: _vm.contentHeight, top: _vm.computedTop}),attrs:{\"id\":\"music-player-comment\"},on:{\"click\":function($event){_vm.toggle($event)}}},[_c('h4',{staticClass:\"comment-label\"},[_vm._v(\"评论\\n    \"),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.currentPlays.total))])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-content\"},[_c('list',_vm._l((_vm.currentPlays.comments),function(c){return _c('list-item',{key:c.commentId},[_c('router-link',{staticClass:\"avatar\",attrs:{\"tag\":\"div\",\"to\":{name: 'user', query: {id: c.user.userId}}}},[_c('img',{attrs:{\"src\":c.user.avatarUrl,\"data-toggle\":\"router-link\"}})]),_vm._v(\" \"),_c('list-item-holder',[_c('list-item-inner',[_c('div',{staticClass:\"primary-title\"},[_c('router-link',{attrs:{\"tag\":\"span\",\"to\":{name: 'user', query: {id: c.user.userId}},\"data-toggle\":\"router-link\"}},[_vm._v(\"\\n                 \"+_vm._s(c.user.nickname)+\"\\n              \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"third-title\"},[_vm._v(_vm._s(c.timeString))]),_vm._v(\" \"),(!c.translatedBeReplied)?_c('div',{staticClass:\"message\",domProps:{\"innerHTML\":_vm._s(c.translatedMessage)}}):_c('div',{staticClass:\"message\"},[_vm._v(\"\\n              回复\\n              \"),_c('router-link',{staticClass:\"reply-user-nickname\",attrs:{\"data-toggle\":\"router-link\",\"to\":{name: 'user', query: {id: c.translatedBeReplied.user.id}}}},[_vm._v(\"\\n                @\"+_vm._s(c.translatedBeReplied.user.nickname)+\"\\n              \")]),_vm._v(\"：\\n              \"),_c('span',{domProps:{\"innerHTML\":_vm._s(c.translatedMessage)}}),_vm._v(\" \"),_c('div',{staticClass:\"message reply\",domProps:{\"innerHTML\":_vm._s(c.translatedBeReplied && c.translatedBeReplied.content)}})],1)])],1)],1)}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56843759\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/musicPlayer/comment.vue\n// module id = rzyE\n// module chunks = 0"],"sourceRoot":""}